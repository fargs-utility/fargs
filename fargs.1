.\" Use: groff -man -Tutf8 fargs.1 | less
.\" Encoding: UTF-8
.TH FARGS 1 "2025-03-12" "v0.1" "File Paths Selector"
.SH NAME
fargs \- manage file lists for batch operations
.SH SYNOPSIS
.B fargs
[\fICOMMAND\fP] [\fIOPTIONS\fP] [\fIPATHS...\fP]
.SH DESCRIPTION
\fBfargs\fP is a disk-based file list manager for Linux that handles file path storage, deduplication and retrieval. Designed for large-scale file operations with minimal memory usage.
.SH COMMANDS
.TP
.B append, a
Add files/directories to existing list. Accepts glob patterns and stdin.
.TP
.B replace, r
Overwrite existing list with new paths. Creates lockfile during operation.
.TP
.B out, o
Output stored paths. Supports sorting and auto-clear.
.TP
.B clear, c
Delete all stored paths and indexes. Requires \fB\-f\fP if locked.
.TP
.B unlock, u
Force remove stale lockfile after confirmation.
.TP
.B help
Display full help message.
.SH OPTIONS
.TP
.B \-v
Verbose mode: Show operation statistics
.TP
.B \-s
Sort output alphabetically (only for \fBout\fP command)
.TP
.B \-c
Clear storage after output (only for \fBout\fP command)
.TP
.B \-f
Force operation ignoring existing lockfile
.SH EXAMPLES
Add all config files:
.nf
.B $ fargs a /etc/*.conf /usr/local/etc/**/*.cfg
.fi

Replace list from find output:
.nf
.B $ find . \-name "*.tmp" | fargs r \-v
.fi

Output sorted list to rsync:
.nf
.B $ fargs o \-s | xargs \-I{} rsync \-av {} backup:/storage/
.fi

Emergency unlock:
.nf
.B $ fargs u
.B Other fargs acquired lock. Release existing lock? [Y/N] y
.fi
.SH FILES
.TP
.B /tmp/fargs_<UID>.tmp
Main storage file (user-specific)
.TP
.B /tmp/fargs_<UID>.idx
SHA-256 hash index (binary format)
.TP
.B /tmp/fargs.lock
Global operation lockfile
.SH SECURITY
All user files created with 0600 permissions. Lockfiles prevent concurrent modifications. SHA-256 hashing ensures path uniqueness.
.SH EXIT STATUS
.TP
.B 0
Success
.TP
.B 1
General error
.TP
.B 2
Invalid arguments
.TP
.B 3
Lockfile conflict
.SH SEE ALSO
.BR xargs (1),
.BR find (1),
.BR rsync (1)
.SH BUGS
Report issues at: \fIhttps://github.com/uwfmt/fargs/issues\fP
.SH AUTHOR
Alexander Grafov <grafov@inet.name>
.SH LICENSE
GPLv3 License \- See /usr/share/licenses/fargs/LICENSE
